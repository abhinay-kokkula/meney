
import React, { useState, useEffect } from 'react';
import { Bot, Send, Languages } from 'lucide-react';

interface Message {
  id: number;
  type: 'user' | 'bot';
  content: string;
  timestamp: Date;
}

const TaxAssistant = () => {
  const [messages, setMessages] = useState<Message[]>([]);
  const [inputValue, setInputValue] = useState('');
  const [language, setLanguage] = useState('en');
  const [step, setStep] = useState(0);
  const [userProfile, setUserProfile] = useState({
    income: '',
    hasInvestments: false,
    hasLoans: false,
  });

  const translations = {
    en: {
      title: 'TaxMENEY - AI Tax Assistant',
      subtitle: 'Get personalized tax advice in simple terms',
      placeholder: 'Type your response here...',
      send: 'Send',
      welcome: 'Hello! I\'m your AI Tax Assistant. I\'ll help you understand your tax obligations and find ways to save money.',
      incomeQuestion: 'To get started, what\'s your annual income range?\n\n1. Under ‚Çπ2.5 Lakhs\n2. ‚Çπ2.5L - ‚Çπ5L\n3. ‚Çπ5L - ‚Çπ10L\n4. Above ‚Çπ10L',
      investmentQuestion: 'Do you have any investments like:\n‚Ä¢ PPF, ELSS, or Life Insurance?\n‚Ä¢ Home loan or education loan?\n\nPlease type "yes" or "no"',
    },
    hi: {
      title: 'TaxMENEY - AI ‡§ü‡•à‡§ï‡•ç‡§∏ ‡§∏‡§π‡§æ‡§Ø‡§ï',
      subtitle: '‡§∏‡§∞‡§≤ ‡§≠‡§æ‡§∑‡§æ ‡§Æ‡•á‡§Ç ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø‡§ó‡§§ ‡§ü‡•à‡§ï‡•ç‡§∏ ‡§∏‡§≤‡§æ‡§π ‡§™‡§æ‡§è‡§Ç',
      placeholder: '‡§Ø‡§π‡§æ‡§Å ‡§Ö‡§™‡§®‡§æ ‡§ú‡§µ‡§æ‡§¨ ‡§≤‡§ø‡§ñ‡•á‡§Ç...',
      send: '‡§≠‡•á‡§ú‡•á‡§Ç',
      welcome: '‡§®‡§Æ‡§∏‡•ç‡§§‡•á! ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡§æ AI ‡§ü‡•à‡§ï‡•ç‡§∏ ‡§∏‡§π‡§æ‡§Ø‡§ï ‡§π‡•Ç‡§Å‡•§ ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•ã ‡§ü‡•à‡§ï‡•ç‡§∏ ‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§î‡§∞ ‡§™‡•à‡§∏‡•á ‡§¨‡§ö‡§æ‡§®‡•á ‡§ï‡•á ‡§§‡§∞‡•Ä‡§ï‡•á ‡§¨‡§§‡§æ‡§ä‡§Ç‡§ó‡§æ‡•§',
      incomeQuestion: '‡§∂‡•Å‡§∞‡•Å‡§Ü‡§§ ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§Ü‡§™‡§ï‡•Ä ‡§∏‡§æ‡§≤‡§æ‡§®‡§æ ‡§Ü‡§Ø ‡§ï‡§ø‡§§‡§®‡•Ä ‡§π‡•à?\n\n1. ‚Çπ2.5 ‡§≤‡§æ‡§ñ ‡§∏‡•á ‡§ï‡§Æ\n2. ‚Çπ2.5L - ‚Çπ5L\n3. ‚Çπ5L - ‚Çπ10L\n4. ‚Çπ10L ‡§∏‡•á ‡§ú‡•ç‡§Ø‡§æ‡§¶‡§æ',
      investmentQuestion: '‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™‡§ï‡•á ‡§™‡§æ‡§∏ ‡§ï‡•ã‡§à ‡§®‡§ø‡§µ‡•á‡§∂ ‡§π‡•à ‡§ú‡•à‡§∏‡•á:\n‚Ä¢ PPF, ELSS, ‡§Ø‡§æ ‡§ú‡•Ä‡§µ‡§® ‡§¨‡•Ä‡§Æ‡§æ?\n‚Ä¢ ‡§π‡•ã‡§Æ ‡§≤‡•ã‡§® ‡§Ø‡§æ ‡§è‡§ú‡•Å‡§ï‡•á‡§∂‡§® ‡§≤‡•ã‡§®?\n\n‡§ï‡•É‡§™‡§Ø‡§æ "‡§π‡§æ‡§Å" ‡§Ø‡§æ "‡§®‡§π‡•Ä‡§Ç" ‡§≤‡§ø‡§ñ‡•á‡§Ç',
    }
  };

  const t = translations[language as keyof typeof translations];

  useEffect(() => {
    // Initial welcome message
    setMessages([
      {
        id: 1,
        type: 'bot',
        content: t.welcome,
        timestamp: new Date(),
      },
      {
        id: 2,
        type: 'bot',
        content: t.incomeQuestion,
        timestamp: new Date(),
      }
    ]);
  }, [language]);

  const generateTaxAdvice = (income: string, hasInvestments: boolean, hasLoans: boolean) => {
    const adviceMap: { [key: string]: string } = {
      'en': {
        '1': hasInvestments 
          ? `Great! With income under ‚Çπ2.5L, you're in the tax-free zone! üéâ\n\nSince you have investments:\n‚Ä¢ Keep investing in PPF (up to ‚Çπ1.5L annually)\n‚Ä¢ Continue ELSS for tax benefits\n‚Ä¢ Your current tax liability: ‚Çπ0\n\nTip: Build an emergency fund of 6 months expenses!`
          : `Excellent news! With income under ‚Çπ2.5L, you pay ZERO tax! üéâ\n\nRecommendations:\n‚Ä¢ Start a PPF account (‚Çπ500 minimum)\n‚Ä¢ Consider ELSS mutual funds\n‚Ä¢ Build emergency savings\n‚Ä¢ Your tax liability: ‚Çπ0`,
        '2': hasInvestments
          ? `Good planning! Income ‚Çπ2.5L-‚Çπ5L puts you in 5% tax bracket.\n\nWith your investments:\n‚Ä¢ Tax without 80C: ~‚Çπ12,500\n‚Ä¢ With ‚Çπ1.5L 80C deductions: ‚Çπ0-‚Çπ5,000\n‚Ä¢ Maximize PPF, ELSS contributions\n‚Ä¢ Consider health insurance for 80D benefits`
          : `You're in the 5% tax bracket (‚Çπ2.5L-‚Çπ5L).\n\nTax saving opportunities:\n‚Ä¢ Invest ‚Çπ1.5L in PPF/ELSS to save ‚Çπ7,500\n‚Ä¢ Take health insurance (‚Çπ25K deduction)\n‚Ä¢ Potential tax: ‚Çπ12,500 ‚Üí ‚Çπ0 with proper planning!`,
        '3': hasInvestments
          ? `Smart! Income ‚Çπ5L-‚Çπ10L = 20% tax bracket.\n\nWith your investments:\n‚Ä¢ Tax without planning: ‚Çπ50K-‚Çπ1.5L\n‚Ä¢ With ‚Çπ1.5L 80C + ‚Çπ25K health insurance: Save ‚Çπ35K\n‚Ä¢ Maximize all deductions\n‚Ä¢ Consider NPS for additional ‚Çπ50K deduction`
          : `You're in 20% tax bracket (‚Çπ5L-‚Çπ10L).\n\nImmediate actions:\n‚Ä¢ Invest ‚Çπ1.5L in 80C (save ‚Çπ30K tax)\n‚Ä¢ Health insurance ‚Çπ25K (save ‚Çπ5K)\n‚Ä¢ Consider house rent allowance\n‚Ä¢ Potential annual savings: ‚Çπ35,000+`,
        '4': hasInvestments
          ? `High earner! Income >‚Çπ10L = 30% tax bracket.\n\nWith your investments:\n‚Ä¢ Maximize 80C: ‚Çπ1.5L (save ‚Çπ45K)\n‚Ä¢ Health insurance: ‚Çπ25K (save ‚Çπ7.5K)\n‚Ä¢ NPS additional: ‚Çπ50K (save ‚Çπ15K)\n‚Ä¢ Home loan interest: Up to ‚Çπ2L\n‚Ä¢ Total potential savings: ‚Çπ67,500+`
          : `High income, high tax! >‚Çπ10L = 30% bracket.\n\nUrgent tax planning needed:\n‚Ä¢ 80C investments: Save ‚Çπ45K annually\n‚Ä¢ Health insurance: Save ‚Çπ7.5K\n‚Ä¢ Consider home loan for interest deduction\n‚Ä¢ NPS for extra ‚Çπ50K deduction\n‚Ä¢ Consult a tax advisor for advanced planning`,
      },
      'hi': {
        '1': hasInvestments
          ? `‡§¨‡§π‡•Å‡§§ ‡§¨‡§¢‡§º‡§ø‡§Ø‡§æ! ‚Çπ2.5L ‡§∏‡•á ‡§ï‡§Æ ‡§Ü‡§Ø ‡§™‡§∞ ‡§ï‡•ã‡§à ‡§ü‡•à‡§ï‡•ç‡§∏ ‡§®‡§π‡•Ä‡§Ç! üéâ\n\n‡§Ü‡§™‡§ï‡•á ‡§®‡§ø‡§µ‡•á‡§∂ ‡§ï‡•á ‡§∏‡§æ‡§•:\n‚Ä¢ PPF ‡§Æ‡•á‡§Ç ‡§®‡§ø‡§µ‡•á‡§∂ ‡§ú‡§æ‡§∞‡•Ä ‡§∞‡§ñ‡•á‡§Ç (‡§∏‡§æ‡§≤‡§æ‡§®‡§æ ‚Çπ1.5L ‡§§‡§ï)\n‚Ä¢ ELSS ‡§Æ‡•á‡§Ç ‡§®‡§ø‡§µ‡•á‡§∂ ‡§ï‡§∞‡§§‡•á ‡§∞‡§π‡•á‡§Ç\n‚Ä¢ ‡§Ü‡§™‡§ï‡§æ ‡§ü‡•à‡§ï‡•ç‡§∏: ‚Çπ0\n\n‡§∏‡•Å‡§ù‡§æ‡§µ: 6 ‡§Æ‡§π‡•Ä‡§®‡•á ‡§ï‡§æ ‡§á‡§Æ‡§∞‡§ú‡•á‡§Ç‡§∏‡•Ä ‡§´‡§Ç‡§° ‡§¨‡§®‡§æ‡§è‡§Ç!`
          : `‡§∂‡§æ‡§®‡§¶‡§æ‡§∞ ‡§ñ‡§¨‡§∞! ‚Çπ2.5L ‡§∏‡•á ‡§ï‡§Æ ‡§Ü‡§Ø ‡§™‡§∞ ‡§∂‡•Ç‡§®‡•ç‡§Ø ‡§ü‡•à‡§ï‡•ç‡§∏! üéâ\n\n‡§∏‡§ø‡§´‡§æ‡§∞‡§ø‡§∂‡•á‡§Ç:\n‚Ä¢ PPF ‡§ñ‡§æ‡§§‡§æ ‡§ñ‡•ã‡§≤‡•á‡§Ç (‡§®‡•ç‡§Ø‡•Ç‡§®‡§§‡§Æ ‚Çπ500)\n‚Ä¢ ELSS ‡§Æ‡•ç‡§Ø‡•Ç‡§ö‡•Å‡§Ö‡§≤ ‡§´‡§Ç‡§° ‡§Æ‡•á‡§Ç ‡§®‡§ø‡§µ‡•á‡§∂ ‡§ï‡§∞‡•á‡§Ç\n‚Ä¢ ‡§á‡§Æ‡§∞‡§ú‡•á‡§Ç‡§∏‡•Ä ‡§¨‡§ö‡§§ ‡§¨‡§®‡§æ‡§è‡§Ç\n‚Ä¢ ‡§Ü‡§™‡§ï‡§æ ‡§ü‡•à‡§ï‡•ç‡§∏: ‚Çπ0`,
        '2': hasInvestments
          ? `‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§Ø‡•ã‡§ú‡§®‡§æ! ‚Çπ2.5L-‚Çπ5L ‡§Ü‡§Ø ‡§™‡§∞ 5% ‡§ü‡•à‡§ï‡•ç‡§∏‡•§\n\n‡§Ü‡§™‡§ï‡•á ‡§®‡§ø‡§µ‡•á‡§∂ ‡§ï‡•á ‡§∏‡§æ‡§•:\n‚Ä¢ ‡§¨‡§ø‡§®‡§æ 80C ‡§ï‡•á ‡§ü‡•à‡§ï‡•ç‡§∏: ~‚Çπ12,500\n‚Ä¢ ‚Çπ1.5L ‡§ï‡•Ä ‡§ï‡§ü‡•å‡§§‡•Ä ‡§∏‡•á: ‚Çπ0-‚Çπ5,000\n‚Ä¢ PPF, ELSS ‡§ï‡•ã ‡§¨‡§¢‡§º‡§æ‡§è‡§Ç\n‚Ä¢ ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§¨‡•Ä‡§Æ‡§æ ‡§≤‡•á‡§Ç 80D ‡§ï‡•á ‡§≤‡§ø‡§è`
          : `‡§Ü‡§™ 5% ‡§ü‡•à‡§ï‡•ç‡§∏ ‡§¨‡•ç‡§∞‡•à‡§ï‡•á‡§ü ‡§Æ‡•á‡§Ç ‡§π‡•à‡§Ç (‚Çπ2.5L-‚Çπ5L)‡•§\n\n‡§ü‡•à‡§ï‡•ç‡§∏ ‡§¨‡§ö‡§æ‡§®‡•á ‡§ï‡•á ‡§Ö‡§µ‡§∏‡§∞:\n‚Ä¢ PPF/ELSS ‡§Æ‡•á‡§Ç ‚Çπ1.5L ‡§®‡§ø‡§µ‡•á‡§∂ ‡§ï‡§∞‡•á‡§Ç, ‚Çπ7,500 ‡§¨‡§ö‡§æ‡§è‡§Ç\n‚Ä¢ ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§¨‡•Ä‡§Æ‡§æ ‡§≤‡•á‡§Ç (‚Çπ25K ‡§ï‡§ü‡•å‡§§‡•Ä)\n‚Ä¢ ‡§∏‡§Ç‡§≠‡§æ‡§µ‡§ø‡§§ ‡§ü‡•à‡§ï‡•ç‡§∏: ‚Çπ12,500 ‚Üí ‚Çπ0 ‡§∏‡§π‡•Ä ‡§Ø‡•ã‡§ú‡§®‡§æ ‡§∏‡•á!`,
        '3': hasInvestments
          ? `‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü! ‚Çπ5L-‚Çπ10L ‡§Ü‡§Ø = 20% ‡§ü‡•à‡§ï‡•ç‡§∏ ‡§¨‡•ç‡§∞‡•à‡§ï‡•á‡§ü‡•§\n\n‡§Ü‡§™‡§ï‡•á ‡§®‡§ø‡§µ‡•á‡§∂ ‡§ï‡•á ‡§∏‡§æ‡§•:\n‚Ä¢ ‡§¨‡§ø‡§®‡§æ ‡§Ø‡•ã‡§ú‡§®‡§æ ‡§ï‡•á ‡§ü‡•à‡§ï‡•ç‡§∏: ‚Çπ50K-‚Çπ1.5L\n‚Ä¢ ‚Çπ1.5L 80C + ‚Çπ25K ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§¨‡•Ä‡§Æ‡§æ ‡§∏‡•á: ‚Çπ35K ‡§¨‡§ö‡§§\n‚Ä¢ ‡§∏‡§≠‡•Ä ‡§ï‡§ü‡•å‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡§æ ‡§´‡§æ‡§Ø‡§¶‡§æ ‡§â‡§†‡§æ‡§è‡§Ç\n‚Ä¢ NPS ‡§Æ‡•á‡§Ç ‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§ ‚Çπ50K ‡§ï‡§ü‡•å‡§§‡•Ä`
          : `‡§Ü‡§™ 20% ‡§ü‡•à‡§ï‡•ç‡§∏ ‡§¨‡•ç‡§∞‡•à‡§ï‡•á‡§ü ‡§Æ‡•á‡§Ç ‡§π‡•à‡§Ç (‚Çπ5L-‚Çπ10L)‡•§\n\n‡§§‡•Å‡§∞‡§Ç‡§§ ‡§ï‡§∞‡§®‡•á ‡§Ø‡•ã‡§ó‡•ç‡§Ø:\n‚Ä¢ 80C ‡§Æ‡•á‡§Ç ‚Çπ1.5L ‡§®‡§ø‡§µ‡•á‡§∂ (‚Çπ30K ‡§ü‡•à‡§ï‡•ç‡§∏ ‡§¨‡§ö‡§§)\n‚Ä¢ ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§¨‡•Ä‡§Æ‡§æ ‚Çπ25K (‚Çπ5K ‡§¨‡§ö‡§§)\n‚Ä¢ ‡§π‡§æ‡§â‡§∏ ‡§∞‡•á‡§Ç‡§ü ‡§Ö‡§≤‡§æ‡§â‡§Ç‡§∏ ‡§ï‡§æ ‡§´‡§æ‡§Ø‡§¶‡§æ ‡§â‡§†‡§æ‡§è‡§Ç\n‚Ä¢ ‡§∏‡§Ç‡§≠‡§æ‡§µ‡§ø‡§§ ‡§µ‡§æ‡§∞‡•ç‡§∑‡§ø‡§ï ‡§¨‡§ö‡§§: ‚Çπ35,000+`,
        '4': hasInvestments
          ? `‡§â‡§ö‡•ç‡§ö ‡§Ü‡§Ø! >‚Çπ10L = 30% ‡§ü‡•à‡§ï‡•ç‡§∏ ‡§¨‡•ç‡§∞‡•à‡§ï‡•á‡§ü‡•§\n\n‡§Ü‡§™‡§ï‡•á ‡§®‡§ø‡§µ‡•á‡§∂ ‡§ï‡•á ‡§∏‡§æ‡§•:\n‚Ä¢ 80C ‡§Ö‡§ß‡§ø‡§ï‡§§‡§Æ: ‚Çπ1.5L (‚Çπ45K ‡§¨‡§ö‡§§)\n‚Ä¢ ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§¨‡•Ä‡§Æ‡§æ: ‚Çπ25K (‚Çπ7.5K ‡§¨‡§ö‡§§)\n‚Ä¢ NPS ‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§: ‚Çπ50K (‚Çπ15K ‡§¨‡§ö‡§§)\n‚Ä¢ ‡§π‡•ã‡§Æ ‡§≤‡•ã‡§® ‡§¨‡•ç‡§Ø‡§æ‡§ú: ‚Çπ2L ‡§§‡§ï\n‚Ä¢ ‡§ï‡•Å‡§≤ ‡§∏‡§Ç‡§≠‡§æ‡§µ‡§ø‡§§ ‡§¨‡§ö‡§§: ‚Çπ67,500+`
          : `‡§â‡§ö‡•ç‡§ö ‡§Ü‡§Ø, ‡§â‡§ö‡•ç‡§ö ‡§ü‡•à‡§ï‡•ç‡§∏! >‚Çπ10L = 30% ‡§¨‡•ç‡§∞‡•à‡§ï‡•á‡§ü‡•§\n\n‡§ú‡§∞‡•Ç‡§∞‡•Ä ‡§ü‡•à‡§ï‡•ç‡§∏ ‡§™‡•ç‡§≤‡§æ‡§®‡§ø‡§Ç‡§ó:\n‚Ä¢ 80C ‡§®‡§ø‡§µ‡•á‡§∂: ‡§∏‡§æ‡§≤‡§æ‡§®‡§æ ‚Çπ45K ‡§¨‡§ö‡§§\n‚Ä¢ ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§¨‡•Ä‡§Æ‡§æ: ‚Çπ7.5K ‡§¨‡§ö‡§§\n‚Ä¢ ‡§π‡•ã‡§Æ ‡§≤‡•ã‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡•ç‡§Ø‡§æ‡§ú ‡§ï‡§ü‡•å‡§§‡•Ä\n‚Ä¢ ‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§ ‚Çπ50K ‡§ï‡§ü‡•å‡§§‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è NPS\n‚Ä¢ ‡§â‡§®‡•ç‡§®‡§§ ‡§Ø‡•ã‡§ú‡§®‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ü‡•à‡§ï‡•ç‡§∏ ‡§∏‡§≤‡§æ‡§π‡§ï‡§æ‡§∞ ‡§∏‡•á ‡§Æ‡§ø‡§≤‡•á‡§Ç`,
      }
    };

    return adviceMap[language][income] || 'Please select a valid income range (1-4).';
  };

  const handleSendMessage = () => {
    if (!inputValue.trim()) return;

    const userMessage = {
      id: Date.now(),
      type: 'user' as const,
      content: inputValue,
      timestamp: new Date(),
    };

    setMessages(prev => [...prev, userMessage]);

    // Bot response logic
    setTimeout(() => {
      let botResponse = '';

      if (step === 0) {
        // Processing income response
        const incomeChoice = inputValue.trim();
        if (['1', '2', '3', '4'].includes(incomeChoice)) {
          setUserProfile(prev => ({ ...prev, income: incomeChoice }));
          setStep(1);
          botResponse = t.investmentQuestion;
        } else {
          botResponse = language === 'hi' 
            ? '‡§ï‡•É‡§™‡§Ø‡§æ 1-4 ‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§ï‡•ã‡§à ‡§è‡§ï ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ ‡§ö‡•Å‡§®‡•á‡§Ç‡•§'
            : 'Please choose a valid option (1-4).';
        }
      } else if (step === 1) {
        // Processing investment response
        const hasInvestments = inputValue.toLowerCase().includes('yes') || inputValue.toLowerCase().includes('‡§π‡§æ‡§Å');
        const hasLoans = inputValue.toLowerCase().includes('loan') || inputValue.toLowerCase().includes('‡§≤‡•ã‡§®');
        
        setUserProfile(prev => ({ ...prev, hasInvestments, hasLoans }));
        
        botResponse = generateTaxAdvice(userProfile.income, hasInvestments, hasLoans);
        
        // Save to localStorage
        localStorage.setItem('meneyTaxProfile', JSON.stringify({
          ...userProfile,
          hasInvestments,
          hasLoans,
          timestamp: new Date()
        }));
      }

      const botMessage = {
        id: Date.now() + 1,
        type: 'bot' as const,
        content: botResponse,
        timestamp: new Date(),
      };

      setMessages(prev => [...prev, botMessage]);
    }, 1000);

    setInputValue('');
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100">
      <div className="max-w-4xl mx-auto px-4 py-8">
        {/* Header */}
        <div className="text-center mb-8">
          <div className="flex justify-center mb-4">
            <div className="w-16 h-16 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl flex items-center justify-center">
              <Bot className="w-8 h-8 text-white" />
            </div>
          </div>
          <h1 className="text-3xl font-bold text-gray-900 mb-2">{t.title}</h1>
          <p className="text-gray-600">{t.subtitle}</p>
          
          {/* Language Toggle */}
          <div className="flex justify-center mt-4">
            <div className="flex bg-white rounded-lg p-1 shadow-md">
              <button
                onClick={() => setLanguage('en')}
                className={`flex items-center space-x-2 px-4 py-2 rounded-md transition-colors ${
                  language === 'en' ? 'bg-blue-600 text-white' : 'text-gray-700'
                }`}
              >
                <Languages className="w-4 h-4" />
                <span>English</span>
              </button>
              <button
                onClick={() => setLanguage('hi')}
                className={`flex items-center space-x-2 px-4 py-2 rounded-md transition-colors ${
                  language === 'hi' ? 'bg-blue-600 text-white' : 'text-gray-700'
                }`}
              >
                <Languages className="w-4 h-4" />
                <span>‡§π‡§ø‡§Ç‡§¶‡•Ä</span>
              </button>
            </div>
          </div>
        </div>

        {/* Chat Interface */}
        <div className="bg-white rounded-2xl shadow-lg overflow-hidden">
          {/* Messages */}
          <div className="h-96 overflow-y-auto p-6 space-y-4">
            {messages.map((message) => (
              <div
                key={message.id}
                className={`flex ${message.type === 'user' ? 'justify-end' : 'justify-start'}`}
              >
                <div
                  className={`max-w-xs lg:max-w-md px-4 py-3 rounded-2xl ${
                    message.type === 'user'
                      ? 'bg-blue-600 text-white'
                      : 'bg-gray-100 text-gray-900'
                  }`}
                >
                  <p className="whitespace-pre-line">{message.content}</p>
                  <p className={`text-xs mt-2 ${
                    message.type === 'user' ? 'text-blue-200' : 'text-gray-500'
                  }`}>
                    {message.timestamp.toLocaleTimeString()}
                  </p>
                </div>
              </div>
            ))}
          </div>

          {/* Input */}
          <div className="border-t border-gray-200 p-4">
            <div className="flex space-x-4">
              <input
                type="text"
                value={inputValue}
                onChange={(e) => setInputValue(e.target.value)}
                onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}
                placeholder={t.placeholder}
                className="flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-600"
              />
              <button
                onClick={handleSendMessage}
                className="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl transition-colors flex items-center space-x-2"
              >
                <Send className="w-4 h-4" />
                <span className="hidden sm:inline">{t.send}</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default TaxAssistant;
